import{d as f,X as U,a1 as v,O as V,P as u,$ as s,Q as g,Y as y,Z as B,_ as E,p as l,a as d,o as b,R as I,W as F}from"./vendor.aad8767c.js";import{U as k}from"./Common.3d44b0f0.js";import{h as p}from"./axios.e8a5cbbb.js";import{_ as x}from"./plugin-vue_export-helper.21dcd24c.js";const m="/user",C=m+"/getUserById";function D(){const a=localStorage.getItem("uid");return p.get(C,{params:{uid:a}})}const S=m+"/updateUser";function w(a){return p.post(S,a)}const A=a=>(B("data-v-45128a3b"),a=a(),E(),a),h=A(()=>I("h3",{class:"user-title"},"\u4E2A\u4EBA\u4FE1\u606F",-1)),N=F("\u4FEE\u6539"),R=f({setup(a){const e=U(new k),c=async()=>{const n=await D();if(n.messageCode=="ok"){const{user:t}=n.data;e.username=t.username,e.name=t.name,e.tel=t.tel,e.uid=t.uid}},_=async()=>{(await w(e)).messageCode=="ok"?l.success("\u6210\u529F"):l.fail("\u5931\u8D25")};return v(()=>{c()}),(n,t)=>{const r=d("van-field"),i=d("van-button");return b(),V(y,null,[h,u(r,{modelValue:s(e).username,"onUpdate:modelValue":t[0]||(t[0]=o=>s(e).username=o),label:"\u8D26\u53F7"},null,8,["modelValue"]),u(r,{modelValue:s(e).name,"onUpdate:modelValue":t[1]||(t[1]=o=>s(e).name=o),label:"\u7528\u6237\u540D"},null,8,["modelValue"]),u(r,{modelValue:s(e).tel,"onUpdate:modelValue":t[2]||(t[2]=o=>s(e).tel=o),type:"tel",label:"\u624B\u673A\u53F7"},null,8,["modelValue"]),u(i,{type:"primary",block:"",onClick:_},{default:g(()=>[N]),_:1})],64)}}});var $=x(R,[["__scopeId","data-v-45128a3b"]]);export{$ as default};
